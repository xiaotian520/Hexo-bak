---
title: 从零开始：史上最详尽V2Ray搭建图文教程
date: 2019-05-03 13:36:59
tags: 
- V2ray
- 科学上网
categories: 
- 技术教程


---

此 V2Ray 教程完完全全是为小白准备的，从购买 VPS 到使用 SSH 登录并使用 V2Ray 一键安装脚本配置 V2Ray，详细的图文教程确保你可以百分百成功搭建 V2Ray 使用，哪怕你只是一个小白。
<!-- more -->
---
### V2Ray简介
---
相对于 Shadowsocks，V2Ray 更像全能选手，拥有更多可选择的协议 / 传输载体 (Socks、HTTP、TLS、TCP、mKCP、WebSocket )，还有强大的路由功能，不仅仅于此，它亦包含 Shadowsocks 组件，你只需要安装 V2Ray，你就可以使用所有的 V2Ray 相关的特性包括使用 Shadowsocks，由于 V2Ray 是使用 GO 语言所撰写的，天生的平台部署优势，下载即可使用，当然啦，由于 V2Ray 的配置相对来说是很繁琐的，但是 使用V2Ray 一键安装脚本 加持下，使用 V2Ray 便会显得轻松多了。

---
### 环境信息
---
- 服务器系统：Vultr Debian 9 x64;
- v2ray版本：v4.18.0
- 客户端系统：Windows 10
- VPS：我使用的是Vultr
---

### 服务端搭建

---

一、Vultr VPS账号注册：

---

<font color="red">因为国内运营商问题，某些地区会无法访问Vultr官网，请用国外IP访问注册，代理请设置成全局模式。</font><br>点击前往官网注册：[Vultr官网](https://www.vultr.com/?ref=8047241-4F)，填写注册邮箱和密码完成注册。填写密码时要注意：<font color="red">密码要求至少十位，而且必须包含大写字母、小写字母和数字。</font>
![注册账号](../../../../images/首页注册.png "注册账号")


>如果提示注册成功，需要邮箱验证的话，请到注册邮箱查看邮件并点击 Verify Your E-mail 验证邮箱（收件箱如果没有收到，看下垃圾箱）

---

**注册常遇到的问题**

---

以下四项有一项不符合要求就会有红色图标提示，符合要求会有绿色对号
![注意事项](../../../../images/2.png "注意事项")

符合要求提示无效用户名或密码的话，原因大概率是因为使用了国内的IP注册

>解决方法有两种
>   1.换成国际IP重新注册
>   2.继续回到官网注册首页输入刚才注册的邮箱按要求输入密码注册，直到注册提示成下一步的已注册提示，然后用邮箱重置密码

---

注册完成，我们便登录账户，进入后台，干净简洁的全英文界面，侧栏翻译见下图
![充值页面](../../../../images/后台页面.png "充值页面")
此处我们选择用Alipay充值，我们可以看到会赠送$50，你也可以选择其它方式。信用卡要用双币卡，因为我们要用美元购买Vultr，目前没有任何优惠可用，以后如果有优惠活动，会在博客更新 ，点击“Alipay”（支付宝），选择充值到Vultr账户的金额（美元），之后点击“Pay with Alipay”（用支付宝付款），在弹出的支付宝页面中用支付宝app扫一扫或支付宝登录付款，支付宝最低需要充值10美元，会自动根据汇率折算成RMB，汇率是比当前市面上的汇率高一点点的。
![支付宝支付](../../../../images/free50.jpg "支付宝支付")
>注: 珍惜自己的账户，vultr会检测支付帐号，如果重复申请帐号，使用了同一个paypal或信用卡去支付，会被vultr封号。

---

二、VPS购买

---

点击Vultr后台右侧的蓝色加号，进入购买页面
![添加服务器](../../../../images/加号.png "添加服务器")
购买VPS，首先选择机房位置，我建议选择如下之一：Los Angeles”（洛杉矶）、“Tokyo”（东京）、“New York (NJ)”（纽约）、“Singapore”（新加坡）。其中，目前仅纽约机房有2.5美元方案。
系统根据自己的喜好和需要去选择，优先选择Debian 9 x64
![选择系统](../../../../images/系统选择.png "选择系统")
购买自己需要的配置，用来学习和测试linux及相关程序的话就用765M内存的最低配置好了，当然还有更高配置的你按需选择。Vultr主机采用按小时计费的方式，也就是咱们说的用多少时间扣多少钱。当你创建VPS之后，不用的话请删除，系统会自动扣除用户使用时间的款项。
![选择配置](../../../../images/配置.png "选择配置")
此处有免费的IPv6地址和免费的内网IP可选，付费的自动备份和付费的DDOS保护可选，此页不懂就都不用选
![额外配置](../../../../images/额外选项.png "额外配置")
填写主机名，最好是英文的，【可不填】点击“Deploy Now”（现在部署），即可建立VPS。
![部署](../../../../images/部署.jpg "部署")
在“Servers”（服务器）页面即可见到一台刚创建的VPS

点击服务器状态右边的“…”，下拉菜单中可以看到：
“Server Details” 服务器详细信息；
“View Console” 控制台；
“Server Stop” 关机；
“Server Restart” 重启；
“Server Reinstall” 重装系统；
“Server Destroy” 销毁服务器。
![服务器页面](../../../../images/服务器页面.png "服务器页面")
此时VPS购买就算完成了，如果不用VPS把它删除（销毁）即可（就会停止计费了）。
VPS管理界面,我们接下来就要使用下面的账号和密码连接Xshell进行脚本的安装
![VPS管理界面](../../../../images/VPS管理界面.png "VPS管理界面")

---

三、登陆VPS

---

使用xshell进行连接
接下来呢，使用工具 [Xshell 6](https://www.netsarang.com/zh/all-downloads/) ，下载链接地址是 ：[Xshell 6下载地址](https://www.netsarang.com/zh/all-downloads/)
新建连接
主机写上你的 VPS IP 地址。
![xshell](../../../../images/xshell.png "xshell")
之后点击 用户身份验证，用户名：root，密码：你的 root 密码。然后点击确定
![xshell连接](../../../../images/xshell连接.png "xshell连接")

然后会提示SSH安全警告，选择，接受并保存。
![Xshell保存密码](../../../../images/Xshell保存密码.png "Xshell保存密码")
这是登录成功后的界面
![Xshell登陆成功](../../../../images/Xshell登陆成功.png "Xshell登陆成功")

---

### 安装V2Ray

---

输入下面命令回车，你可以复制过去，然后在 Xshell 界面按 Shift + Insert 即可粘贴，不能按 Ctrl + V 的。。

```
	bash <(curl -s -L https://git.io/v2ray.sh)
```

>如果提示 curl: command not found ，那是因为你的 VPS 没装 Curl
>ubuntu/debian 系统安装 Curl 方法: `apt-get update -y && apt-get install curl -y`
>centos 系统安装 Curl 方法: `yum update -y && yum install curl -y`
>安装好 curl 之后就能安装脚本了
然后选择安装，即是输入 1 回车
选择传输协议，如果没有特别的需求，使用默认的 TCP 传输协议即可，直接回车
选择端口，如果没有特别的需求，使用默认的端口即可，直接回车
是否屏蔽广告，除非你真的需要，一般来说，直接回车即可
![安装V2ray](../../../../images/安装V2ray.jpg "安装V2ray")
是否配置 Shadowsocks ，如果不需要就直接回车，否则就输入 Y 回车
Shadowsocks 端口，密码，加密方式这些东西自己看情况配置即可，我个人当然是全部直接回车。。
OK，按回车继续
![安装ssr](../../../../images/安装ssr.jpg "安装ssr")
安装信息，如果确保没有什么问题了，按回车继续
![安装信息](../../../../images/安装信息.jpg "安装信息")

---

### V2Ray安装完成

---
OK，此时 V2Ray 已经安装完成了。
![安装完成](../../../../images/安装完成.jpg "安装完成")
如上图所示，V2Ray 配置信息，Shadowsocks 配置信息都有了
如果你使用过 Shadowsocks ，那么现在你可以测试一下 Shadowsocks 配置了，看看是否能正常使用。
如果你使用过 V2Ray 某些客户端，那么现在也可以测试一下配置了。
(备注，可能某些 V2Ray 客户端的选项或描述略有不同，但事实上，上面的 V2Ray 配置信息已经足够详细，由于客户端的不同，请对号入座。)

---

### V2Ray客户端使用教程

---
暂停一下，我想，看这篇的孩子多数都是萌新，由于 V2Ray 已经安装完成了，所以此时你应该尝试使用 V2Ray 来连接上真正的互联网了。
>Wndows
>[V2RayN使用教程](../V2RayN使用教程)

---

### V2Ray管理面板

---
现在可以尝试一下输入 `v2ray` 回车，即可管理 V2Ray

![控制面板](../../../../images/控制面板.jpg "控制面板")

### 结束

---
我有写少了什么吗？我这种小小白萌新看了这教程都觉得很明白了啊。
一次不会，那么就两次，还是不会，那就再来一次。可还是不会啊？大佬请收下我的膝盖。